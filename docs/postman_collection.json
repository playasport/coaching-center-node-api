{
  "info": {
    "name": "PlayAsport Academy API",
    "_postman_id": "f6fa5a6e-6b7f-4d37-9fb5-3fd2aa97aabb",
    "description": "Postman collection for the PlayAsport Academy backend. Update the `base_url` variable to match your environment.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register (Academy)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"academy@example.com\",\n  \"password\": \"StrongPass@123\",\n  \"mobile\": \"9876543210\",\n  \"gender\": \"male\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "register"
              ]
            }
          }
        },
        {
          "name": "Social Login (Firebase)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"provider\": \"google\",\n  \"idToken\": \"YOUR_FIREBASE_ID_TOKEN\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/social-login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "social-login"
              ]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"academy@example.com\",\n  \"password\": \"StrongPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "login"
              ]
            }
          }
        },
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile\": \"9876543210\",\n  \"mode\": \"profile_update\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/send-otp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "send-otp"
              ]
            }
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile\": \"9876543210\",\n  \"otp\": \"123456\",\n  \"mode\": \"profile_update\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/verify-otp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "verify-otp"
              ]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "firstName",
                  "value": "Johnny",
                  "type": "text"
                },
                {
                  "key": "lastName",
                  "value": "Academy",
                  "type": "text"
                },
                {
                  "key": "profileImage",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "profile"
              ]
            }
          }
        },
        {
          "name": "Update Address",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"line2\": \"Suite 4B\",\n    \"area\": \"Downtown\",\n    \"city\": \"New Delhi\",\n    \"state\": \"Delhi\",\n    \"country\": \"India\",\n    \"pincode\": \"110001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/address",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "address"
              ]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"StrongPass@123\",\n  \"newPassword\": \"StrongerPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "password"
              ]
            }
          }
        },
        {
          "name": "Me (Current User)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/auth/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "me"
              ]
            }
          }
        },
        {
          "name": "Forgot Password - Request OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"mobile\",\n  \"mobile\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/forgot-password/request",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "forgot-password",
                "request"
              ]
            }
          }
        },
        {
          "name": "Forgot Password - Verify & Reset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"mobile\",\n  \"mobile\": \"9876543210\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"StrongerPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/forgot-password/verify",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "forgot-password",
                "verify"
              ]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/refresh",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "refresh"
              ]
            },
            "description": "Refresh access token using refresh token. Returns new access token and refresh token. The old refresh token is automatically blacklisted."
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "logout"
              ]
            },
            "description": "Logout user and blacklist current tokens. Optionally provide refreshToken in body to blacklist it as well. **Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Logout All Devices",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/auth/logout-all",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "logout-all"
              ]
            },
            "description": "Logout from all devices by blacklisting all tokens for the authenticated user. **Requires authentication (Bearer accessToken).**"
          }
        }
      ]
    },
    {
      "name": "Locale",
      "item": [
        {
          "name": "Change Locale",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"locale\": \"hi\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/locale",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "locale"
              ]
            }
          }
        },
        {
          "name": "Get Locale",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/locale",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "locale"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Location",
      "item": [
        {
          "name": "Get Countries",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/countries",
              "host": ["{{base_url}}"],
              "path": ["location", "countries"]
            },
            "description": "Retrieve a list of all countries"
          }
        },
        {
          "name": "Get States by Country",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/states?countryCode=IN",
              "host": ["{{base_url}}"],
              "path": ["location", "states"],
              "query": [
                {
                  "key": "countryCode",
                  "value": "IN",
                  "description": "Country code (ISO2) or country ID"
                }
              ]
            },
            "description": "Retrieve a list of states for a specific country"
          }
        },
        {
          "name": "Get Cities by State",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/cities?stateName=Delhi&countryCode=IN",
              "host": ["{{base_url}}"],
              "path": ["location", "cities"],
              "query": [
                {
                  "key": "stateName",
                  "value": "Delhi",
                  "description": "State name"
                },
                {
                  "key": "countryCode",
                  "value": "IN",
                  "description": "Country code (optional)"
                }
              ]
            },
            "description": "Retrieve a list of cities for a specific state. You can use stateName or stateId."
          }
        },
        {
          "name": "Get Cities by State ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/cities?stateId=state-id-123",
              "host": ["{{base_url}}"],
              "path": ["location", "cities"],
              "query": [
                {
                  "key": "stateId",
                  "value": "state-id-123",
                  "description": "State ID"
                }
              ]
            },
            "description": "Retrieve a list of cities using state ID"
          }
        }
      ]
    },
    {
      "name": "Sports",
      "item": [
        {
          "name": "Get All Sports",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sports",
              "host": ["{{base_url}}"],
              "path": ["sports"]
            },
            "description": "Retrieve a list of all active sports"
          }
        }
      ]
    },
    {
      "name": "Facilities",
      "item": [
        {
          "name": "Get All Facilities",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/facilities",
              "host": ["{{base_url}}"],
              "path": ["facilities"]
            },
            "description": "Retrieve a list of all active facilities"
          }
        }
      ]
    },
    {
      "name": "Coaching Center",
      "item": [
        {
          "name": "Create Coaching Center",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"center_name\": \"Elite Sports Academy\",\n  \"mobile_number\": \"9876543210\",\n  \"email\": \"info@elitesportsacademy.com\",\n  \"description\": \"Premier coaching center for multiple sports\",\n  \"sports\": [\"507f1f77bcf86cd799439011\"],\n  \"age\": {\n    \"min\": 3,\n    \"max\": 18\n  },\n  \"location\": {\n    \"latitude\": 28.6139,\n    \"longitude\": 77.209,\n    \"address\": {\n      \"line2\": \"Near Metro Station\",\n      \"city\": \"New Delhi\",\n      \"state\": \"Delhi\",\n      \"country\": \"India\",\n      \"pincode\": \"110001\"\n    }\n  },\n  \"facility\": \"507f1f77bcf86cd799439011\",\n  \"operational_timing\": {\n    \"operating_days\": [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"],\n    \"opening_time\": \"09:00\",\n    \"closing_time\": \"18:00\"\n  },\n  \"bank_information\": {\n    \"bank_name\": \"State Bank of India\",\n    \"account_number\": \"1234567890123456\",\n    \"ifsc_code\": \"SBIN0001234\",\n    \"account_holder_name\": \"Elite Sports Academy\"\n  },\n  \"status\": \"draft\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/coaching-center",
              "host": ["{{base_url}}"],
              "path": ["coaching-center"]
            },
            "description": "Create a new coaching center. Can be saved as draft or published. **Requires authentication (Bearer token with ACADEMY role).**\n\n**Facility Field:**\n- Can be a string (Facility ID) if facility already exists: `\"facility\": \"507f1f77bcf86cd799439011\"`\n- Can be an object to create new facility: `\"facility\": { \"name\": \"Swimming Pool\", \"description\": \"Olympic size pool\", \"icon\": \"https://example.com/icon.png\" }`\n- If object is provided and facility with same name exists, existing facility ID will be used automatically."
          }
        },
        {
          "name": "Get My Coaching Centers (List with Pagination)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/coaching-center/my/list?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", "my", "list"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (starts from 1, default: 1)",
                  "disabled": false
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of records per page (default: 10, max: 100)",
                  "disabled": false
                }
              ]
            },
            "description": "Retrieve a paginated list of coaching centers belonging to the authenticated user. Returns only non-deleted centers. **Requires authentication (Bearer token with ACADEMY role).**\n\n**Query Parameters:**\n- `page` (optional): Page number, starts from 1 (default: 1)\n- `limit` (optional): Number of records per page (default: 10, maximum: 100)\n\n**Response includes:**\n- `data`: Array of coaching centers with populated sports, facilities, and user information\n- `pagination`: Pagination metadata (page, limit, total, totalPages, hasNextPage, hasPrevPage)"
          }
        },
        {
          "name": "Get Coaching Center by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/coaching-center/:id",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Retrieve a coaching center by its ID"
          }
        },
        {
          "name": "Update Coaching Center",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"center_name\": \"Updated Elite Sports Academy\",\n  \"description\": \"Updated description\",\n  \"status\": \"published\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/coaching-center/:id",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Update coaching center details. All fields are optional. If status changes from 'draft' to 'published', media files are automatically moved to permanent locations. **Requires authentication (Bearer token with ACADEMY role).**"
          }
        },
        {
          "name": "Toggle Coaching Center Active Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/coaching-center/:id/toggle-status",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", ":id", "toggle-status"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Toggle coaching center active/inactive status. The `is_active` field will be automatically toggled (if current is `true`, it becomes `false` and vice versa). This controls whether the coaching center is active or inactive, not the draft/published status. **Requires authentication (Bearer token with ACADEMY role).**"
          }
        },
        {
          "name": "Delete Coaching Center",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/coaching-center/:id",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Soft delete a coaching center by setting is_deleted to true. The coaching center will no longer appear in regular queries but data is preserved in the database. **Requires authentication (Bearer token with ACADEMY role).**"
          }
        },
        {
          "name": "Remove Media from Coaching Center",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mediaType\": \"image\",\n  \"uniqueId\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"sportId\": \"507f1f77bcf86cd799439011\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/coaching-center/:id/media",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", ":id", "media"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Soft delete media from coaching center. Media is marked as deleted but remains in database. Supports: logo, documents, and sport-specific images/videos. For images/videos, sportId is required. **Requires authentication (Bearer token with ACADEMY role).**\n\n**Request Body:**\n- `mediaType` (required): Type of media to remove. Must be one of: `logo`, `document`, `image`, `video`\n- `uniqueId` (required): Unique ID of the media item\n- `sportId` (optional, required for `image`/`video`): Sport ID for sport-specific media\n\n**Examples:**\n\nRemove logo:\n```json\n{\n  \"mediaType\": \"logo\",\n  \"uniqueId\": \"logo-uuid\"\n}\n```\n\nRemove document:\n```json\n{\n  \"mediaType\": \"document\",\n  \"uniqueId\": \"doc-uuid\"\n}\n```\n\nRemove image:\n```json\n{\n  \"mediaType\": \"image\",\n  \"uniqueId\": \"img-uuid\",\n  \"sportId\": \"507f1f77bcf86cd799439011\"\n}\n```\n\nRemove video:\n```json\n{\n  \"mediaType\": \"video\",\n  \"uniqueId\": \"video-uuid\",\n  \"sportId\": \"507f1f77bcf86cd799439011\"\n}\n```"
          }
        }
      ]
    },
    {
      "name": "Coaching Center Media",
      "item": [
        {
          "name": "Upload Media",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "logo",
                  "type": "file",
                  "src": [],
                  "description": "Logo image file (JPEG, PNG, WebP) - single file, automatically compressed (max width: 1500px, max size: 500KB)"
                },
                {
                  "key": "images",
                  "type": "file",
                  "src": [],
                  "description": "Image files (JPEG, PNG, WebP) - up to 10 files, automatically compressed (max width: 1500px, max size: 500KB)"
                },
                {
                  "key": "images",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "videos",
                  "type": "file",
                  "src": [],
                  "description": "Video files (MP4, MPEG, MOV, AVI) - up to 10 files, max 100MB each"
                },
                {
                  "key": "documents",
                  "type": "file",
                  "src": [],
                  "description": "Document files (PDF, DOC, DOCX, XLS, XLSX) - up to 10 files, max 10MB each"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/coaching-center/media",
              "host": ["{{base_url}}"],
              "path": ["coaching-center", "media"]
            },
            "description": "Upload media files (logo, images, videos, documents) in a single request. You can upload any combination of these file types. Files are saved in temp folder and automatically moved to permanent location when coaching center is published. Images (logo and images) are automatically compressed. **Requires authentication (Bearer token).**"
          }
        }
      ]
    }
  ],
  "event": [],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api/v1"
    },
    {
      "key": "token",
      "value": "",
      "description": "Legacy token variable (use accessToken instead)"
    },
    {
      "key": "accessToken",
      "value": "",
      "description": "JWT access token (short-lived, 15 minutes). Use this for API requests."
    },
    {
      "key": "refreshToken",
      "value": "",
      "description": "JWT refresh token (long-lived, 7 days). Use this to get new access tokens."
    }
  ]
}

