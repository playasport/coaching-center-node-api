{
  "info": {
    "name": "PlayAsport Academy API",
    "_postman_id": "f6fa5a6e-6b7f-4d37-9fb5-3fd2aa97aabb",
    "description": "Postman collection for the PlayAsport Academy backend. Update the `base_url` variable to match your environment.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Academy Auth",
      "item": [
        {
          "name": "Register (Academy)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"academy@example.com\",\n  \"password\": \"StrongPass@123\",\n  \"mobile\": \"9876543210\",\n  \"gender\": \"male\",\n  \"otp\": \"123456\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "register"
              ]
            },
            "description": "Register a new academy user. **Device-Specific Tokens:** When device info is provided, refresh tokens are device-specific with longer validity (90 days for mobile, 7 days for web)."
          }
        },
        {
          "name": "Social Login (Firebase)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"provider\": \"google\",\n  \"idToken\": \"YOUR_FIREBASE_ID_TOKEN\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/social-login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "social-login"
              ]
            },
            "description": "Social login via Firebase. **Device-Specific Tokens:** When device info is provided, refresh tokens are device-specific with longer validity (90 days for mobile, 7 days for web)."
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"academy@example.com\",\n  \"password\": \"StrongPass@123\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "login"
              ]
            },
            "description": "Login academy user. **Device-Specific Tokens:** When device info is provided, refresh tokens are device-specific with longer validity (90 days for mobile, 7 days for web). Each device gets its own refresh token."
          }
        },
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile\": \"9876543210\",\n  \"mode\": \"profile_update\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/send-otp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "send-otp"
              ]
            }
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile\": \"9876543210\",\n  \"otp\": \"123456\",\n  \"mode\": \"profile_update\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/verify-otp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "verify-otp"
              ]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "firstName",
                  "value": "Johnny",
                  "type": "text"
                },
                {
                  "key": "lastName",
                  "value": "Academy",
                  "type": "text"
                },
                {
                  "key": "profileImage",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "profile"
              ]
            }
          }
        },
        {
          "name": "Update Address",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"line2\": \"Suite 4B\",\n    \"area\": \"Downtown\",\n    \"city\": \"New Delhi\",\n    \"state\": \"Delhi\",\n    \"country\": \"India\",\n    \"pincode\": \"110001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/address",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "address"
              ]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"StrongPass@123\",\n  \"newPassword\": \"StrongerPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "password"
              ]
            }
          }
        },
        {
          "name": "Me (Current User)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/auth/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "me"
              ]
            }
          }
        },
        {
          "name": "Forgot Password - Request OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"mobile\",\n  \"mobile\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/forgot-password/request",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "forgot-password",
                "request"
              ]
            }
          }
        },
        {
          "name": "Forgot Password - Verify & Reset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"mobile\",\n  \"mobile\": \"9876543210\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"StrongerPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/forgot-password/verify",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "forgot-password",
                "verify"
              ]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/refresh",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "refresh"
              ]
            },
            "description": "Refresh access token using refresh token.\n\n**Device-Specific Refresh Tokens:**\n- **Web apps**: Refresh tokens valid for 7 days\n- **Mobile apps (Android/iOS)**: Refresh tokens valid for 90 days (configurable)\n- Each device has its own refresh token linked to the device\n- Old refresh token is blacklisted and new one is issued (token rotation)\n- Device must be active for refresh to succeed\n\n**Response:**\n- Returns new access token (15 minutes) and new refresh token (same expiry as original)\n- New refresh token maintains the same device type and expiry period"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/auth/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "logout"
              ]
            },
            "description": "Logout user and revoke device-specific tokens.\n\n**Device-Specific Token Revocation:**\n- Blacklists the access token\n- If refreshToken is provided, revokes it from the device token record\n- Device token is marked as inactive\n- Prevents further token refresh for this device\n\n**Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Logout All Devices",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/auth/logout-all",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "academy",
                "auth",
                "logout-all"
              ]
            },
            "description": "Logout from all devices by revoking all device tokens.\n\n**All Devices Logout:**\n- Deactivates all device tokens for the user\n- Revokes all refresh tokens from device records\n- Blacklists all access and refresh tokens\n- User will need to login again on all devices\n\n**Requires authentication (Bearer accessToken).**"
          }
        }
      ]
    },
    {
      "name": "Locale",
      "item": [
        {
          "name": "Change Locale",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"locale\": \"hi\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/locale",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "locale"
              ]
            }
          }
        },
        {
          "name": "Get Locale",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/locale",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "locale"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Location",
      "item": [
        {
          "name": "Get Countries",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/countries",
              "host": ["{{base_url}}"],
              "path": ["location", "countries"]
            },
            "description": "Retrieve a list of all countries"
          }
        },
        {
          "name": "Get States by Country",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/states?countryCode=IN",
              "host": ["{{base_url}}"],
              "path": ["location", "states"],
              "query": [
                {
                  "key": "countryCode",
                  "value": "IN",
                  "description": "Country code (ISO2) or country ID"
                }
              ]
            },
            "description": "Retrieve a list of states for a specific country"
          }
        },
        {
          "name": "Get Cities by State",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/cities?stateName=Delhi&countryCode=IN",
              "host": ["{{base_url}}"],
              "path": ["location", "cities"],
              "query": [
                {
                  "key": "stateName",
                  "value": "Delhi",
                  "description": "State name"
                },
                {
                  "key": "countryCode",
                  "value": "IN",
                  "description": "Country code (optional)"
                }
              ]
            },
            "description": "Retrieve a list of cities for a specific state. You can use stateName or stateId."
          }
        },
        {
          "name": "Get Cities by State ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/location/cities?stateId=state-id-123",
              "host": ["{{base_url}}"],
              "path": ["location", "cities"],
              "query": [
                {
                  "key": "stateId",
                  "value": "state-id-123",
                  "description": "State ID"
                }
              ]
            },
            "description": "Retrieve a list of cities using state ID"
          }
        }
      ]
    },
    {
      "name": "Sports",
      "item": [
        {
          "name": "Get All Sports",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sports",
              "host": ["{{base_url}}"],
              "path": ["sports"]
            },
            "description": "Retrieve a list of all active sports"
          }
        }
      ]
    },
    {
      "name": "Facilities",
      "item": [
        {
          "name": "Get All Facilities",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/facilities",
              "host": ["{{base_url}}"],
              "path": ["facilities"]
            },
            "description": "Retrieve a list of all active facilities"
          }
        }
      ]
    },
    {
      "name": "Coaching Center",
      "item": [
        {
          "name": "Create Coaching Center",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"center_name\": \"Elite Sports Academy\",\n  \"mobile_number\": \"9876543210\",\n  \"email\": \"info@elitesportsacademy.com\",\n  \"description\": \"Premier coaching center for multiple sports\",\n  \"sports\": [\"507f1f77bcf86cd799439011\"],\n  \"age\": {\n    \"min\": 3,\n    \"max\": 18\n  },\n  \"location\": {\n    \"latitude\": 28.6139,\n    \"longitude\": 77.209,\n    \"address\": {\n      \"line2\": \"Near Metro Station\",\n      \"city\": \"New Delhi\",\n      \"state\": \"Delhi\",\n      \"country\": \"India\",\n      \"pincode\": \"110001\"\n    }\n  },\n  \"facility\": \"507f1f77bcf86cd799439011\",\n  \"operational_timing\": {\n    \"operating_days\": [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"],\n    \"opening_time\": \"09:00\",\n    \"closing_time\": \"18:00\"\n  },\n  \"bank_information\": {\n    \"bank_name\": \"State Bank of India\",\n    \"account_number\": \"1234567890123456\",\n    \"ifsc_code\": \"SBIN0001234\",\n    \"account_holder_name\": \"Elite Sports Academy\"\n  },\n  \"allowed_genders\": [\"male\", \"female\"],\n  \"allowed_disabled\": false,\n  \"is_only_for_disabled\": false,\n  \"status\": \"draft\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/coaching-center",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center"]
            },
            "description": "Create a new coaching center. Can be saved as draft or published. **Requires authentication (Bearer token with ACADEMY role).**\n\n**Facility Field:**\n- Can be a string (Facility ID) if facility already exists: `\"facility\": \"507f1f77bcf86cd799439011\"`\n- Can be an object to create new facility: `\"facility\": { \"name\": \"Swimming Pool\", \"description\": \"Olympic size pool\", \"icon\": \"https://example.com/icon.png\" }`\n- If object is provided and facility with same name exists, existing facility ID will be used automatically."
          }
        },
        {
          "name": "Get My Coaching Centers (List with Pagination)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/my/list?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", "my", "list"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (starts from 1, default: 1)",
                  "disabled": false
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of records per page (default: 10, max: 100)",
                  "disabled": false
                }
              ]
            },
            "description": "Retrieve a paginated list of coaching centers belonging to the authenticated user. Returns only non-deleted centers. **Requires authentication (Bearer token with ACADEMY role).**\n\n**Query Parameters:**\n- `page` (optional): Page number, starts from 1 (default: 1)\n- `limit` (optional): Number of records per page (default: 10, maximum: 100)\n\n**Response includes:**\n- `data`: Array of coaching centers with populated sports, facilities, and user information\n- `pagination`: Pagination metadata (page, limit, total, totalPages, hasNextPage, hasPrevPage)"
          }
        },
        {
          "name": "Get Coaching Center by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Retrieve a coaching center by its ID. **Requires authentication (Bearer token).**"
          }
        },
        {
          "name": "Update Coaching Center",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"center_name\": \"Updated Elite Sports Academy\",\n  \"description\": \"Updated description\",\n  \"allowed_genders\": [\"male\", \"female\", \"other\"],\n  \"allowed_disabled\": true,\n  \"is_only_for_disabled\": false,\n  \"status\": \"published\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Update coaching center details. All fields are optional. If status changes from 'draft' to 'published', media files are automatically moved to permanent locations. **Requires authentication (Bearer token with ACADEMY role).**"
          }
        },
        {
          "name": "Toggle Coaching Center Active Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/:id/toggle-status",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", ":id", "toggle-status"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Toggle coaching center active/inactive status. The `is_active` field will be automatically toggled (if current is `true`, it becomes `false` and vice versa). This controls whether the coaching center is active or inactive, not the draft/published status. **Requires authentication (Bearer token with ACADEMY role).**"
          }
        },
        {
          "name": "Delete Coaching Center",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Soft delete a coaching center by setting is_deleted to true. The coaching center will no longer appear in regular queries but data is preserved in the database. **Requires authentication (Bearer token with ACADEMY role).**"
          }
        },
        {
          "name": "Remove Media from Coaching Center",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mediaType\": \"image\",\n  \"uniqueId\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"sportId\": \"507f1f77bcf86cd799439011\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/:id/media",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", ":id", "media"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching center ID"
                }
              ]
            },
            "description": "Soft delete media from coaching center. Media is marked as deleted but remains in database. Supports: logo, documents, and sport-specific images/videos. For images/videos, sportId is required. **Requires authentication (Bearer token with ACADEMY role).**\n\n**Request Body:**\n- `mediaType` (required): Type of media to remove. Must be one of: `logo`, `document`, `image`, `video`\n- `uniqueId` (required): Unique ID of the media item\n- `sportId` (optional, required for `image`/`video`): Sport ID for sport-specific media\n\n**Examples:**\n\nRemove logo:\n```json\n{\n  \"mediaType\": \"logo\",\n  \"uniqueId\": \"logo-uuid\"\n}\n```\n\nRemove document:\n```json\n{\n  \"mediaType\": \"document\",\n  \"uniqueId\": \"doc-uuid\"\n}\n```\n\nRemove image:\n```json\n{\n  \"mediaType\": \"image\",\n  \"uniqueId\": \"img-uuid\",\n  \"sportId\": \"507f1f77bcf86cd799439011\"\n}\n```\n\nRemove video:\n```json\n{\n  \"mediaType\": \"video\",\n  \"uniqueId\": \"video-uuid\",\n  \"sportId\": \"507f1f77bcf86cd799439011\"\n}\n```"
          }
        }
      ]
    },
    {
      "name": "Coaching Center Media",
      "item": [
        {
          "name": "Upload Media",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "logo",
                  "type": "file",
                  "src": [],
                  "description": "Logo image file (JPEG, PNG, WebP) - single file, automatically compressed (max width: 1500px, max size: 500KB)"
                },
                {
                  "key": "images",
                  "type": "file",
                  "src": [],
                  "description": "Image files (JPEG, PNG, WebP) - up to 10 files, automatically compressed (max width: 1500px, max size: 500KB)"
                },
                {
                  "key": "images",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "videos",
                  "type": "file",
                  "src": [],
                  "description": "Video files (MP4, MPEG, MOV, AVI) - up to 10 files, max 100MB each"
                },
                {
                  "key": "documents",
                  "type": "file",
                  "src": [],
                  "description": "Document files (PDF, DOC, DOCX, XLS, XLSX) - up to 10 files, max 10MB each"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/academy/coaching-center/media",
              "host": ["{{base_url}}"],
              "path": ["academy", "coaching-center", "media"]
            },
            "description": "Upload media files (logo, images, videos, documents) in a single request. You can upload any combination of these file types. Files are saved in temp folder and automatically moved to permanent location when coaching center is published. Images (logo and images) are automatically compressed. **Requires authentication (Bearer token).**"
          }
        }
      ]
    },
    {
      "name": "Employee",
      "item": [
        {
          "name": "Create Employee",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe\",\n  \"role\": \"507f1f77bcf86cd799439011\",\n  \"mobileNo\": \"9876543210\",\n  \"email\": \"john@example.com\",\n  \"sport\": \"507f1f77bcf86cd799439011\",\n  \"center\": \"507f1f77bcf86cd799439011\",\n  \"experience\": 5,\n  \"workingHours\": \"9:00 AM - 6:00 PM\",\n  \"extraHours\": \"2 hours\",\n  \"certification\": [\n    {\n      \"name\": \"CPR Certification\",\n      \"fileUrl\": \"https://bucket.s3.region.amazonaws.com/temp/employees/certifications/uuid.pdf\"\n    }\n  ],\n  \"salary\": 50000\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/academy/employee",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee"]
            },
            "description": "Create a new employee. **Requires authentication (Bearer token).**\n\n**Note:** `userId` is automatically set from the logged-in user. Any `userId` value provided in the request body will be ignored.\n\n**Required Fields:**\n- `fullName`: Full name (letters and spaces only, no numbers or special characters)\n- `role`: Role ObjectId\n- `mobileNo`: Mobile number (10 digits, starting with 6-9)\n- `workingHours`: Working hours string\n\n**Optional Fields:**\n- `email`: Email address\n- `sport`: Sport ObjectId\n- `center`: Coaching Center ObjectId\n- `experience`: Years of experience (number)\n- `extraHours`: Extra hours string\n- `certification`: Array of certification objects with `name` and `fileUrl`\n- `salary`: Salary amount (number)"
          }
        },
        {
          "name": "Get My Employees (List with Pagination)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/employee/my/list?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee", "my", "list"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (starts from 1, default: 1)",
                  "disabled": false
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of records per page (default: 10, max: 100)",
                  "disabled": false
                }
              ]
            },
            "description": "Retrieve a paginated list of employees belonging to the authenticated user. **Requires authentication (Bearer token).**"
          }
        },
        {
          "name": "Get Employee by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/employee/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Retrieve an employee by its ID. **Requires authentication (Bearer token).**"
          }
        },
        {
          "name": "Update Employee",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe Updated\",\n  \"mobileNo\": \"9876543211\",\n  \"experience\": 6,\n  \"salary\": 55000\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/academy/employee/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Update employee details. All fields are optional. You can only update your own employees. **Requires authentication (Bearer token).**"
          }
        },
        {
          "name": "Toggle Employee Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/employee/:id/toggle-status",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee", ":id", "toggle-status"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Toggle employee active/inactive status. The `is_active` field will be automatically toggled. You can only toggle status of your own employees. **Requires authentication (Bearer token).**"
          }
        },
        {
          "name": "Delete Employee (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/employee/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Soft delete an employee by setting `is_deleted` to true. The employee will no longer appear in regular queries. You can only delete your own employees. **Requires authentication (Bearer token).**"
          }
        }
      ]
    },
    {
      "name": "Employee Media",
      "item": [
        {
          "name": "Upload Certification Files",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "certifications",
                  "type": "file",
                  "src": [],
                  "description": "Certification files (PDF, JPEG, PNG, WebP) - up to 10 files, max 10MB each"
                },
                {
                  "key": "certifications",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/academy/employee/media",
              "host": ["{{base_url}}"],
              "path": ["academy", "employee", "media"]
            },
            "description": "Upload certification documents for employees. Files are saved in `temp/images/coaching/employee/` folder. **Requires authentication (Bearer token).**\n\n**File Limits:**\n- Certifications: up to 10 files (PDF, JPEG, PNG, WebP) - max 10MB each\n\n**Supported File Types:**\n- Images: JPEG, PNG, WebP\n- Documents: PDF"
          }
        }
      ]
    },
    {
      "name": "Batch",
      "item": [
        {
          "name": "Create Batch",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Morning Batch\",\n  \"sportId\": \"507f1f77bcf86cd799439011\",\n  \"centerId\": \"507f1f77bcf86cd799439011\",\n  \"coach\": \"507f1f77bcf86cd799439011\",\n  \"scheduled\": {\n    \"start_date\": \"2024-01-15\",\n    \"start_time\": \"09:00\",\n    \"end_time\": \"11:00\",\n    \"training_days\": [\"monday\", \"wednesday\", \"friday\"]\n  },\n  \"duration\": {\n    \"count\": 3,\n    \"type\": \"month\"\n  },\n  \"capacity\": {\n    \"min\": 10,\n    \"max\": 30\n  },\n  \"age\": {\n    \"min\": 8,\n    \"max\": 12\n  },\n  \"admission_fee\": 5000,\n  \"fee_structure\": {\n    \"fee_type\": \"monthly\",\n    \"fee_configuration\": {\n      \"base_price\": 2000,\n      \"classes_per_week_options\": [\n        {\n          \"days_per_week\": 2,\n          \"price\": 1500\n        },\n        {\n          \"days_per_week\": 3,\n          \"price\": 2000\n        },\n        {\n          \"days_per_week\": 5,\n          \"price\": 3000\n        }\n      ]\n    },\n    \"admission_fee\": 500\n  },\n  \"status\": \"draft\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/academy/batch",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch"]
            },
            "description": "Create a new batch. **Requires authentication (Bearer token).**\n\n**Note:** `userId` is automatically set from the logged-in user. Any `userId` value provided in the request body will be ignored.\n\n**Required Fields:**\n- `name`: Batch name (string, max 255 characters)\n- `sportId`: Sport ObjectId (must exist and be active)\n- `centerId`: Coaching Center ObjectId (must belong to logged-in user)\n- `scheduled`: Object with:\n  - `start_date`: Start date (ISO date string)\n  - `start_time`: Start time in HH:MM format (24-hour)\n  - `end_time`: End time in HH:MM format (24-hour, must be after start_time)\n  - `training_days`: Array of days (monday, tuesday, wednesday, thursday, friday, saturday, sunday)\n- `duration`: Object with:\n  - `count`: Duration count (integer, min 1)\n  - `type`: Duration type (day, month, week, year)\n- `capacity`: Object with:\n  - `min`: Minimum capacity (integer, min 1)\n  - `max`: Maximum capacity (integer, optional, must be >= min)\n- `age`: Object with:\n  - `min`: Minimum age (integer, between 3 and 18)\n  - `max`: Maximum age (integer, between 3 and 18, must be >= min)\n\n**Optional Fields:**\n- `coach`: Employee ObjectId (must belong to the specified center)\n- `admission_fee`: Admission fee (number, min 0)\n- `fee_structure`: Fee structure object (optional):\n  - `fee_type`: Fee type (monthly, daily, weekly, hourly, per_batch, per_session, age_based, coach_license_based, player_level_based, seasonal, package_based, group_discount, advance_booking, weekend_pricing, peak_hours, membership_based, custom)\n  - `fee_configuration`: Dynamic configuration object based on fee_type (see `/academy/fee-type-config/:feeType` endpoint for form structure)\n  - `admission_fee`: Admission fee for this fee structure (number, min 0, optional)\n- `status`: Status (published, draft, inactive) - default: draft\n\n**Note:** To get the form structure for a specific fee type, call `GET /academy/fee-type-config/:feeType` endpoint first."
          }
        },
        {
          "name": "Get My Batches (List with Pagination)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/batch/my/list?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch", "my", "list"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (starts from 1, default: 1)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of records per page (default: 10, max: 100)"
                }
              ]
            },
            "description": "Get a paginated list of batches belonging to the logged-in user. **Requires authentication (Bearer token).**\n\n**Response includes:**\n- `data`: Array of batch objects with populated references (user, sport, center, coach)\n- `pagination`: Pagination metadata (page, limit, total, totalPages, hasNextPage, hasPrevPage)"
          }
        },
        {
          "name": "Get Batches by Center",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/batch/center/:centerId?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch", "center", ":centerId"],
              "variable": [
                {
                  "key": "centerId",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Coaching Center ID"
                }
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (starts from 1, default: 1)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of records per page (default: 10, max: 100)"
                }
              ]
            },
            "description": "Get a paginated list of batches for a specific coaching center. The center must belong to the logged-in user. **Requires authentication (Bearer token).**\n\n**Response includes:**\n- `data`: Array of batch objects with populated references (user, sport, center, coach)\n- `pagination`: Pagination metadata (page, limit, total, totalPages, hasNextPage, hasPrevPage)"
          }
        },
        {
          "name": "Get Batch by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/batch/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Batch ID"
                }
              ]
            },
            "description": "Get a batch by its ID. **Requires authentication (Bearer token).**\n\n**Response includes:**\n- Batch object with populated references (user, sport, center, coach)"
          }
        },
        {
          "name": "Update Batch",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Evening Batch\",\n  \"scheduled\": {\n    \"start_date\": \"2024-01-15\",\n    \"start_time\": \"18:00\",\n    \"end_time\": \"20:00\",\n    \"training_days\": [\"tuesday\", \"thursday\"]\n  },\n  \"capacity\": {\n    \"min\": 15,\n    \"max\": 25\n  },\n  \"age\": {\n    \"min\": 10,\n    \"max\": 14\n  },\n  \"status\": \"published\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/academy/batch/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Batch ID"
                }
              ]
            },
            "description": "Update batch details. All fields are optional, but at least one field must be provided. You can only update your own batches. **Requires authentication (Bearer token).**\n\n**Updatable Fields:**\n- `name`: Batch name\n- `sportId`: Sport ObjectId\n- `centerId`: Coaching Center ObjectId (must belong to logged-in user)\n- `coach`: Employee ObjectId (must belong to the center)\n- `scheduled`: Scheduled information object\n- `duration`: Duration object\n- `capacity`: Capacity object\n- `age`: Age range object (min and max between 3 and 18)\n- `admission_fee`: Admission fee\n- `status`: Status (published, draft, inactive)"
          }
        },
        {
          "name": "Toggle Batch Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/batch/:id/toggle-status",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch", ":id", "toggle-status"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Batch ID"
                }
              ]
            },
            "description": "Toggle batch active/inactive status. You can only toggle status of your own batches. **Requires authentication (Bearer token).**\n\n**Response includes:**\n- Updated batch object with `is_active` status toggled"
          }
        },
        {
          "name": "Delete Batch (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/batch/:id",
              "host": ["{{base_url}}"],
              "path": ["academy", "batch", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Batch ID"
                }
              ]
            },
            "description": "Soft delete a batch by setting `is_deleted` to true. The batch will no longer appear in regular queries. You can only delete your own batches. **Requires authentication (Bearer token).**"
          }
        }
      ]
    },
    {
      "name": "Fee Type",
      "item": [
        {
          "name": "Get All Fee Types",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/fee-type-config",
              "host": ["{{base_url}}"],
              "path": ["academy", "fee-type-config"]
            },
            "description": "Get all available fee types with their labels and descriptions. **Requires authentication (Bearer token) and ACADEMY role.**\n\n**Response includes:**\n- `feeTypes`: Array of fee type objects with `value`, `label`, and `description`"
          }
        },
        {
          "name": "Get Fee Type Form Structure",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/academy/fee-type-config/:feeType",
              "host": ["{{base_url}}"],
              "path": ["academy", "fee-type-config", ":feeType"],
              "variable": [
                {
                  "key": "feeType",
                  "value": "monthly",
                  "description": "Fee type (monthly, daily, weekly, hourly, per_batch, per_session, age_based, coach_license_based, player_level_based, seasonal, package_based, group_discount, advance_booking, weekend_pricing, peak_hours, membership_based, custom)"
                }
              ]
            },
            "description": "Get the form structure (fields) required for a specific fee type. This helps in building dynamic forms. **Requires authentication (Bearer token) and ACADEMY role.**\n\n**Response includes:**\n- `config`: Fee type configuration object with:\n  - `fee_type`: Fee type value\n  - `label`: Display label\n  - `description`: Description\n  - `formFields`: Array of form field definitions with field names, types, validation rules, etc."
          }
        }
      ]
    },
    {
      "name": "Role",
      "item": [
        {
          "name": "Get Roles (Visible to User)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/role",
              "host": ["{{base_url}}"],
              "path": ["role"]
            },
            "description": "Get list of roles visible to the logged-in user based on their role. **Requires authentication (Bearer token).**\n\n**Visibility Rules:**\n- **SUPER_ADMIN** and **ADMIN**: Can see all roles\n- **Other roles**: Can only see roles where their role name is included in the `visibleToRoles` array\n- Roles with `visibleToRoles: null` are only visible to SUPER_ADMIN and ADMIN\n\n**Response includes:**\n- `roles`: Array of role objects with only `id`, `name`, and `description` fields\n- `count`: Number of roles returned\n\n**Note:** `visibleToRoles`, `createdAt`, and `updatedAt` are excluded from the response."
          }
        }
      ]
    },
    {
      "name": "User Auth",
      "item": [
        {
          "name": "Register (Student/Guardian)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"student@example.com\",\n  \"password\": \"StrongPass@123\",\n  \"mobile\": \"9876543210\",\n  \"type\": \"student\",\n  \"dob\": \"2000-01-15\",\n  \"gender\": \"male\",\n  \"otp\": \"123456\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/register",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "register"]
            },
            "description": "Register a new user (student or guardian). **Requires OTP verification.**\n\n**Required Fields:**\n- `firstName`: First name\n- `email`: Email address\n- `password`: Password (min 8 characters)\n- `mobile`: Mobile number (10 digits)\n- `type`: User type - either 'student' or 'guardian'\n- `dob`: Date of birth in YYYY-MM-DD format (age must be at least 3 years)\n- `gender`: Gender - 'male', 'female', or 'other'\n- `otp`: OTP received via /user/auth/send-otp (mode: register)\n\n**Optional Fields:**\n- `lastName`: Last name\n- `fcmToken`: Firebase Cloud Messaging token for push notifications\n- `deviceType`: Type of device ('web', 'android', or 'ios')\n- `deviceId`: Unique device identifier\n- `deviceName`: Device name/model\n- `appVersion`: App version\n\n**Device-Specific Refresh Tokens:**\n- When device info is provided, refresh tokens are device-specific\n- **Web apps**: Refresh tokens valid for 7 days\n- **Mobile apps (Android/iOS)**: Refresh tokens valid for 90 days (configurable)\n- Each device gets its own refresh token linked to the device"
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"StrongPass@123\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/login",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "login"]
            },
            "description": "Login user with email and password. Returns access token and refresh token.\n\n**Optional Fields for FCM Token Registration:**\n- `fcmToken`: Firebase Cloud Messaging token for push notifications\n- `deviceType`: Type of device ('web', 'android', or 'ios')\n- `deviceId`: Unique device identifier\n- `deviceName`: Device name/model\n- `appVersion`: App version\n\n**Device-Specific Refresh Tokens:**\n- When device info is provided, refresh tokens are device-specific\n- **Web apps**: Refresh tokens valid for 7 days\n- **Mobile apps (Android/iOS)**: Refresh tokens valid for 90 days (configurable)\n- Each device gets its own refresh token linked to the device\n- Access tokens are always 15 minutes regardless of device type"
          }
        },
        {
          "name": "Social Login (Firebase)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"provider\": \"google\",\n  \"idToken\": \"YOUR_FIREBASE_ID_TOKEN\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"type\": \"student\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/social-login",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "social-login"]
            },
            "description": "Login or register a user via social providers (Google, Facebook, Instagram, Apple). **Requires Firebase ID token.**\n\n**Required Fields:**\n- `idToken`: Firebase ID token\n\n**Optional Fields:**\n- `provider`: Provider name (google, facebook, instagram, apple) - for analytics/logging\n- `firstName`: First name\n- `lastName`: Last name\n- `type`: User type - 'student' or 'guardian' (defaults to 'student' if not provided)\n- `fcmToken`: Firebase Cloud Messaging token for push notifications\n- `deviceType`: Type of device ('web', 'android', or 'ios')\n- `deviceId`: Unique device identifier\n- `deviceName`: Device name/model\n- `appVersion`: App version"
          }
        },
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile\": \"9876543210\",\n  \"mode\": \"register\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/send-otp",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "send-otp"]
            },
            "description": "Send OTP to a mobile number. **Modes:** login, register, profile_update, forgot_password"
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile\": \"9876543210\",\n  \"otp\": \"123456\",\n  \"mode\": \"login\",\n  \"fcmToken\": \"fcm-token-from-firebase-cloud-messaging\",\n  \"deviceType\": \"android\",\n  \"deviceId\": \"unique-device-identifier\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/verify-otp",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "verify-otp"]
            },
            "description": "Verify OTP. Returns tokens if mode is 'login', otherwise returns verification status.\n\n**Optional Fields for FCM Token Registration:**\n- `fcmToken`: Firebase Cloud Messaging token for push notifications\n- `deviceType`: Type of device ('web', 'android', or 'ios')\n- `deviceId`: Unique device identifier\n- `deviceName`: Device name/model\n- `appVersion`: App version"
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "firstName",
                  "value": "Johnny",
                  "type": "text"
                },
                {
                  "key": "lastName",
                  "value": "Student",
                  "type": "text"
                },
                {
                  "key": "dob",
                  "value": "2000-01-15",
                  "type": "text"
                },
                {
                  "key": "gender",
                  "value": "male",
                  "type": "text"
                },
                {
                  "key": "profileImage",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/user/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "profile"]
            },
            "description": "Update user profile details. All fields are optional. **Requires authentication (Bearer token with STUDENT or GUARDIAN role).**"
          }
        },
        {
          "name": "Update Address",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": {\n    \"line2\": \"Suite 4B\",\n    \"area\": \"Downtown\",\n    \"city\": \"New Delhi\",\n    \"state\": \"Delhi\",\n    \"country\": \"India\",\n    \"pincode\": \"110001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/address",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "address"]
            },
            "description": "Update user address. **Requires authentication (Bearer token with STUDENT or GUARDIAN role).**"
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"StrongPass@123\",\n  \"newPassword\": \"StrongerPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/password",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "password"]
            },
            "description": "Change user password. **Requires authentication (Bearer token with STUDENT or GUARDIAN role).**"
          }
        },
        {
          "name": "Me (Current User)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/user/auth/me",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "me"]
            },
            "description": "Get current user profile. **Requires authentication (Bearer token with STUDENT or GUARDIAN role).**"
          }
        },
        {
          "name": "Forgot Password - Request OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"mobile\",\n  \"mobile\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/forgot-password/request",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "forgot-password", "request"]
            },
            "description": "Request password reset OTP via mobile or email. **Modes:** mobile, email"
          }
        },
        {
          "name": "Forgot Password - Verify & Reset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mode\": \"mobile\",\n  \"mobile\": \"9876543210\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"StrongerPass@123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/forgot-password/verify",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "forgot-password", "verify"]
            },
            "description": "Verify password reset OTP and set new password. Returns new access and refresh tokens."
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "refresh"]
            },
            "description": "Refresh access token using refresh token.\n\n**Device-Specific Refresh Tokens:**\n- **Web apps**: Refresh tokens valid for 7 days\n- **Mobile apps (Android/iOS)**: Refresh tokens valid for 90 days (configurable)\n- Each device has its own refresh token linked to the device\n- Old refresh token is blacklisted and new one is issued (token rotation)\n- Device must be active for refresh to succeed\n\n**Response:**\n- Returns new access token (15 minutes) and new refresh token (same expiry as original)\n- New refresh token maintains the same device type and expiry period"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "logout"]
            },
            "description": "Logout user and revoke device-specific tokens.\n\n**Device-Specific Token Revocation:**\n- Blacklists the access token\n- If refreshToken is provided, revokes it from the device token record\n- Device token is marked as inactive\n- Prevents further token refresh for this device\n\n**Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Logout All Devices",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/user/auth/logout-all",
              "host": ["{{base_url}}"],
              "path": ["user", "auth", "logout-all"]
            },
            "description": "Logout from all devices by revoking all device tokens.\n\n**All Devices Logout:**\n- Deactivates all device tokens for the user\n- Revokes all refresh tokens from device records\n- Blacklists all access and refresh tokens\n- User will need to login again on all devices\n\n**Requires authentication (Bearer accessToken).**"
          }
        }
      ]
    },
    {
      "name": "Participant",
      "item": [
        {
          "name": "Create Participant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"gender\": \"0\",\n  \"disability\": \"0\",\n  \"dob\": \"1990-01-01\",\n  \"schoolName\": \"ABC School\",\n  \"contactNumber\": \"9876543210\",\n  \"profilePhoto\": \"https://example.com/photo.jpg\",\n  \"address\": {\n    \"line1\": \"123 Main Street\",\n    \"line2\": \"Apt 4B\",\n    \"area\": \"Downtown\",\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"country\": \"India\",\n    \"pincode\": \"400001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/participant",
              "host": ["{{base_url}}"],
              "path": ["user", "participant"]
            },
            "description": "Create a new participant. Users can only create participants for themselves. **Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Get My Participants",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/user/participant/my/list?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["user", "participant", "my", "list"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number (starts from 1)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Number of records per page"
                }
              ]
            },
            "description": "Retrieve a paginated list of participants belonging to the authenticated user. **Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Get Participant by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/user/participant/:id",
              "host": ["{{base_url}}"],
              "path": ["user", "participant", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Participant ID"
                }
              ]
            },
            "description": "Retrieve a participant by its ID. Users can only view their own participants. **Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Update Participant",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"gender\": \"1\",\n  \"schoolName\": \"XYZ School\",\n  \"contactNumber\": \"9876543211\",\n  \"address\": {\n    \"line1\": \"456 Oak Avenue\",\n    \"line2\": \"Suite 10\",\n    \"city\": \"Delhi\",\n    \"state\": \"Delhi\",\n    \"country\": \"India\",\n    \"pincode\": \"110001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/participant/:id",
              "host": ["{{base_url}}"],
              "path": ["user", "participant", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Participant ID"
                }
              ]
            },
            "description": "Update participant details. All fields are optional. Users can only update their own participants. **Requires authentication (Bearer accessToken).**"
          }
        },
        {
          "name": "Delete Participant",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/user/participant/:id",
              "host": ["{{base_url}}"],
              "path": ["user", "participant", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "507f1f77bcf86cd799439011",
                  "description": "Participant ID"
                }
              ]
            },
            "description": "Soft delete a participant by setting is_deleted to true. Users can only delete their own participants. **Requires authentication (Bearer accessToken).**"
          }
        }
      ]
    },
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Health check endpoint to verify server is running. Returns timestamp."
          }
        }
      ]
    }
  ],
  "event": [],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api/v1"
    },
    {
      "key": "token",
      "value": "",
      "description": "Legacy token variable (use accessToken instead)"
    },
    {
      "key": "accessToken",
      "value": "",
      "description": "JWT access token (short-lived, 15 minutes). Use this for API requests."
    },
    {
      "key": "refreshToken",
      "value": "",
      "description": "JWT refresh token. Validity: Web apps (7 days), Mobile apps (90 days). Device-specific tokens are linked to the device. Use this to get new access tokens."
    }
  ]
}

